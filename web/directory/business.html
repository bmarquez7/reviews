<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Business Profile</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body class="business-page">
    <header class="topbar">
      <div class="brand">
        <a class="brand-home" href="./embed.html" aria-label="Back to directory">
          <img class="brand-logo" src="./assets/new-roots-logo.png" alt="New Roots Albania" />
        </a>
        <h1 id="bizPageTitle">Business</h1>
      </div>
      <div class="actions">
        <a href="./embed.html" class="chip link-chip">Back to Directory</a>
      </div>
    </header>

    <main class="layout">
      <section class="card profile-hero">
        <div id="bizHeaderMeta" class="muted">Loading business...</div>
        <div id="bizGallery" class="media-grid hero-grid"></div>
      </section>

      <section class="card profile-tabs-card">
        <nav id="profileTabs" class="profile-tabs" role="tablist" aria-label="Business profile sections">
          <button type="button" class="tab-btn active" data-target="section-overview" role="tab" aria-selected="true">Overview</button>
          <button type="button" class="tab-btn" data-target="section-hours" role="tab" aria-selected="false">Hours</button>
          <button type="button" class="tab-btn" data-target="section-location" role="tab" aria-selected="false">Location</button>
          <button type="button" class="tab-btn" data-target="section-reviews" role="tab" aria-selected="false">Reviews</button>
        </nav>
      </section>

      <section id="section-overview" class="card profile-left section-anchor">
        <h2>Business Info</h2>
        <div id="bizInfo"></div>
        <div id="bizLinks" class="chips"></div>
      </section>

      <section class="card profile-right">
        <h2>Claim Business</h2>
        <p class="muted">Only one verified owner account can claim this listing.</p>
        <form id="claimForm" class="grid2">
          <input id="claimMessage" type="text" placeholder="Explain ownership proof and contact details" />
          <button type="submit">Request Claim</button>
        </form>
        <h3>Request New Location (Pending Verification)</h3>
        <p class="muted">Business accounts can submit a location request for admin verification.</p>
        <form id="locationRequestForm" class="grid2">
          <input id="reqLocationName" type="text" placeholder="Location name" />
          <input id="reqLocationAddress" type="text" placeholder="Address line" />
          <input id="reqLocationCity" type="text" placeholder="City" />
          <input id="reqLocationRegion" type="text" placeholder="Region" />
          <input id="reqLocationCountry" type="text" placeholder="Country" value="Albania" />
          <button type="submit">Submit Location Request</button>
        </form>
        <h3>Account</h3>
        <form id="loginForm" class="grid2">
          <input id="email" type="email" placeholder="Email" />
          <input id="password" type="password" placeholder="Password" />
          <button type="submit">Login</button>
        </form>
        <div class="actions">
          <button id="logout" type="button">Logout</button>
        </div>
      </section>

      <section id="section-hours" class="card profile-left section-anchor">
        <h2>Hours</h2>
        <div id="bizHours" class="list small"></div>
      </section>

      <section id="section-location" class="card profile-left section-anchor">
        <h2>Location</h2>
        <div id="bizLocations" class="list small"></div>
      </section>

      <section id="section-reviews" class="card profile-full section-anchor">
        <h2>Ratings Overview</h2>
        <div id="ratingSummary" class="chips"></div>
        <div id="ratingDistribution" class="chips"></div>
        <h2 style="margin-top:0.9rem;">Reviews</h2>
        <div class="review-pager row between center">
          <button id="reviewsPrev" type="button">Previous</button>
          <span id="reviewsPageInfo" class="muted">Page 1</span>
          <button id="reviewsNext" type="button">Next</button>
        </div>
        <div id="reviewsFeed" class="review-feed"></div>
      </section>
    </main>

    <div id="imageLightbox" class="overlay hidden" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="overlay-card image-card">
        <div class="row between center">
          <h2>Image</h2>
          <button id="imageLightboxClose" type="button">Close</button>
        </div>
        <img id="imageLightboxImg" class="lightbox-image" alt="Preview" />
      </div>
    </div>

    <div id="toastHost" class="toast-host" aria-live="polite" aria-atomic="true"></div>
    <script type="module" src="./business.js"></script>
  </body>
  </html>
